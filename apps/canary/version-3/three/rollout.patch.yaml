- op: replace
  path: /spec/strategy/canary/stableService
  value: stable-three-v3
- op: replace
  path: /spec/strategy/canary/canaryService
  value: preview-three-v3
- op: replace
  path: /spec/strategy/canary/steps
  value:
      - setWeight: 20
      - setCanaryScale: # scale replicaset to 100% with only 20% traffic
          weight: 100
      - setWeight: 40
      - pause: { duration: 5 }
      - setWeight: 60
      - pause: { duration: 5 }
      - setWeight: 80
      - pause: { duration: 5 }
- op: replace
  path: /spec/template/metadata/labels/app.kubernetes.io~1name
  value: three
- op: replace
  path: /spec/selector/matchLabels/app.kubernetes.io~1name
  value: three
- op: replace
  path: /spec/replicas
  value: 5
